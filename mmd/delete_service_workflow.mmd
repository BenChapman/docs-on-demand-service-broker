<div class="mermaid">
sequenceDiagram
  User->>Cloud Foundry:cf delete-service
  Cloud Foundry->>ODB:DELETE instance
  ODB->>BOSH:delete deployment
  BOSH->>ODB:accepted
  ODB->>Cloud Foundry:accepted
  Cloud Foundry->>User: delete in progress
  loop until bosh task is complete
    Cloud Foundry->>ODB: GET last operation
    ODB->>BOSH: GET task
    BOSH->>ODB: task in progress
    ODB->>Cloud Foundry: delete in progress
  end
  Cloud Foundry->>ODB: GET last operation
  ODB->>BOSH: GET task
  BOSH->>ODB: task done
  ODB->>Cloud Foundry: delete succeeded
  User->>Cloud Foundry:cf service
  Cloud Foundry->>User: not found
</div>
